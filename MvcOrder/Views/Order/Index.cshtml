@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@model MvcOrder.Models.Order

<h2>Order Price Calculator</h2>


<form method="post">
    <div>
        <label asp-for="Quantity"></label>
        <input asp-for="Quantity" class="form-control" />
    </div>
    <div>
        <label asp-for="UnitPrice"></label>
        <input asp-for="UnitPrice" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary mt-3">Calculate</button>
</form>

@if (ViewBag.Total != null)
{
    var result = (MvcOrder.Models.OrderResultViewModel)ViewBag.Total;

    <hr />
    <h3>Calculation Result</h3>

    <table class="table table-bordered">
        <tr>
            <th>BaseTotal</th>
            <td>@result.BaseTotal EUR</td>
        </tr>
        <tr>
            <th>QuantityDiscount</th>
            <td>@result.QuantityDiscount EUR</td>
        </tr>
        <tr>
            <th>SubTotal</th>
            <td>@result.SubTotal EUR</td>
        </tr>
        <tr>
            <th>Discounted Total (After Black Friday)</th>
            <td>@result.DiscountedTotal EUR</td>
        </tr>
        <tr>
            <th>Tax (19%)</th>
            <td>@result.Tax EUR</td>
        </tr>
        <tr>
            <th><strong>Total</strong></th>
            <td><strong>@result.Total EUR</strong></td>
        </tr>
    </table>
}
